!function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(t,e,n){var r=t("handle-error-web"),i=t("route-state"),o=t("./flows/beat-flow"),a=t("./package.json").version,s=t("tablenest").Tablenest,u=t("seedrandom"),c=i({followRoute:function(t){var e=t.seed,n=t.encounterId,r=t.beatIds;if(!e)return void c.addToRoute({seed:(new Date).toISOString()});var i=u(e);if(!n){var a=s({random:i}),l=a({root:[[1,{encounterId:"cultistsMeeting",beatId:"discussion"}]]}),f=l(),h=f.encounterId,p=f.beatId;return void c.addToRoute({encounterId:h,beatIds:p})}var d=[];r&&(d=r.split("|").map(decodeURIComponent));o({encounterId:n,beatIds:d,addToRoute:c.addToRoute,random:i})},windowObject:window,propsToCoerceToBool:["hideUI","debug"]});function l(t,e,n,i,o){r(o)}document.getElementById("version-info").textContent=a,window.onerror=l,c.routeFromHash()},{"./flows/beat-flow":6,"./package.json":40,"handle-error-web":19,"route-state":30,seedrandom:31,tablenest:39}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("d3-selection"),o=t("accessor"),a=t("../torn-edges/index"),s=i.select("#beat-container").select(".setup-container");n.renderBeat=function(t){var e=t.beat,n=t.onPlayerAction,u=s.select(".paper");if(u.empty()&&(r=a(s.node()),u=s.select(".paper")),s.classed("hidden",!1),u.selectAll("*").remove(),u.html(e.desc),e.img&&u.insert("img",":first-child").classed("picture",!0).attr("src",e.img).attr("alt",e.imgAlt),e.question&&u.append("span").classed("question",!0).text(e.question),e.playerOptions)if(e.playerOptions.choices)u.append("ul").classed("choices",!0).selectAll(".choice").data(e.playerOptions.choices,o()).enter().append("li").classed("choice",!0).text(o("desc")).on("click",function(t){i.select(this).classed("selected",!0),n({choice:t})});else if(e.playerOptions.freeText){var c=u.append("div").classed("free-text-container",!0).classed("centered-col",!0);c.append("div").classed("free-text-hint",!0).text(e.playerOptions.freeText.hint),c.append("textarea").classed("free-text",!0),c.append("button").text("Done").classed("continue-button",!0).classed("free-text-button",!0).on("click",function(){e.playerOptions.freeText.value=u.select(".free-text").node().value,n({freeText:e.playerOptions.freeText})})}r()}},{"../torn-edges/index":43,accessor:7,"d3-selection":13}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("d3-selection"),o=t("../torn-edges/index"),a=i.select("#beat-container").select(".resolution-container");n.renderResolution=function(t){var e=t.resolutionText,n=t.onAcknowledge,i=a.select(".paper");i.empty()&&(r=o(a.node()),i=a.select(".paper")),a.classed("hidden",!1),i.selectAll("*").remove(),i.append("div").html(e),n&&i.append("button").classed("continue-button",!0).text("Continue.").on("click",function(){a.classed("hidden",!0),n()}),r()}},{"../torn-edges/index":43,"d3-selection":13}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cultistsMeeting={discussion:{id:"discussion",img:"media/cultists.jpg",imgAlt:"A picture of three guys",desc:"<p>Three people in robes sit at the next table in the common room. They are having a heated discussion but are straining to keep it quiet, only partially sucessfully.</p>",question:"What do you do?",playerOptions:{choices:[{id:"spy",desc:"Eavesdrop without being noticed (DEX check with +3 bonus)",next:function(t){var e=t.probable.rollDie(20),n="[DEX check: "+e+"]",r="introductions";return e<=11?(n+=" They don't seem to notice you.",r="waitingFor"):n+=" One of the robed people turns to you.",{beatId:r,resolutionText:n}}},{id:"introduce",desc:"Introduce yourself.",next:function(){return{beatId:"introductions"}}}]}},introductions:{id:"introductions",desc:'A robed halfing nods at you. "I am Shillana. These are my spiritual siblings, Alabie Ella, and Isry. We live to spread the cleansing truth of fire!" Who might you be?"<br>',question:"How do you introduce yourself?",playerOptions:{freeText:{id:"introName",hint:"Your name here",next:function(t){var e='"Good to meet you."',n="recruitment";return t.freeText.value.toLowerCase().trim().includes("unaanne")&&(n="cadre",e='"Unaanne! Finally! We have much to talk about!'),{beatId:n,resolutionText:e}}}}},waitingFor:{id:"waitingFor",desc:'A robed halfling pounds the table. "Stop this! This is needless. This will all be settled in a few moments when the agent from the Plane arrives. What was her name again?"\n<p>"Unaanne. That is the name she takes in mortal form," replies a robed human.</p><p>"Yes, Unaanne will tell us when the new leadership cadre will arrive."</p><p>They all fall silent.</p>',question:"What do you do next?",playerOptions:{choices:[{id:"introduce",desc:"Introduce yourself.",next:function(){return{beatId:"introductions"}}},{id:"leaveRoom",desc:"Leave the common room.",next:function(){return{encounterId:"itemMartAnalysts",beatId:"doorKnock",resolutionText:"You leave and go back to your room."}}}]}},recruitment:{id:"recruitment",desc:'"I tell you my friend. There will be judgment for us all and fire for us all. But! That fire can good! It can be your greatest friend!"\n<p>Another robed person chimes in. "Indeed. And water, earth, air, these are the filthy elements. The ones that are impure. We wage war against them!"</p>\n<p>The third robee speaks. "You may have heard that the forces of fire have been dealt a blow. That much is true. But that is a minor dip in our flame. We are rekindling! We are burning sacrifices in the Temple in a few days hence! Have you a sacrifice that you would like us to burn? It will strengthen your soul as it does the forces of Fire!"',question:"What, if anything, do give them?",playerOptions:{freeText:{id:"fireSacrifice",hint:"Write (or don't) an item you want to give them here.",next:function(t){var e="";return t.freeText.value.trim().length>0&&(e+='"Thank you. Fire cleanse your soul!" '),{encounterId:"itemMartAnalysts",beatId:"doorKnock",resolutionText:e+="The cultists soon leave. You leave and go back to your room."}}}}},cadre:{id:"cadre",desc:'"Unaane, we beseech you! We have been lost since the Water fiends destroyed our leaders. We suspect the trolls helped them," says the robed halfling.\n<p>The robed human adds, "And yet more \'heroes\' are poking around the Temple. The latest horde may have actually killed Falrinth and Smigal. It\'s a matter of time until they encroach on our territory. We must destroy them soon!"</p>\n<p>"Where is the new leadership cadre of which we have been foretold? How can we find them?"</p>',question:"What do you tell them?",playerOptions:{freeText:{id:"advice",hint:"Write your prophecy/advice/poems here.",next:function(){return{encounterId:"itemMartAnalysts",beatId:"doorKnock",resolutionText:"We will meditate on this! Fire cleanse your soul!<p>They get up and leave, and you head back to your room."}}}}}}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.itemMartAnalysts={doorKnock:{id:"doorKnock",img:"media/fred-and-joe.jpg",imgAlt:"A picture of two guys",desc:"Fred and Joe from Item Mart are at the door of your inn room!\n          <p>They describe themselves as Growth Opportunity Analysts. They are interested in your experiences with the Temple of Elemental Evil.\n          <p>They mention that they want to pay you a 50 gp consulting fee.</p>",question:"What do you do?",playerOptions:{choices:[{id:"goAway",desc:"Tell them to go away.",condition:function(t){return!t.state.paymentAccepted},next:function(t){return t.state.itemMartAgentsDismissed=!0,{beatId:"sulk"}}},{id:"askFor100",desc:"Ask for 100 gp.",condition:function(t){return!t.state.itemMartHagglingDone},next:function(t){var e=t.state,n=t.probable;e.itemMartHagglingDone=!0;var r=n.rollDie(20),i="[CHA check: "+r+"]",o="doorKnock";return r<=15?(e.gp+=100,i+=" They give you 100 gp.",e.paymentAccepted=!0,o="scouting"):i+=' "Sorry. That\'s not in our budget."',{beatId:o,resolutionText:i}}},{id:"inviteIn",desc:"Invite them in.",next:function(t){return t.state.gp+=50,{beatId:"scouting",resolutionText:"They give you 50 gp."}}}]}},end:{id:"end",desc:"You go back to sleep. The end."},scouting:{id:"scouting",desc:'"We\'ve seen that the Temple is a popular destination for high income individuals! At the same time, the supply of convenience &mdash; and luxury &mdash; goods is low," Fred explains.\n<p>Joe continues "Now, Mogredh, you and your team have spent considerable time scouting the Temple. We\'re very excited about the unique perspective you have as a Temple SME with a background at Item Mart as a \n<em>[glances at paper]</em>\nService Associate I."</p>\n<p>"We\'re going to put a feeler out into this market by running a kiosk for a week!</p>',question:'"As an expert on the Temple and convenience markets, where do you think we should set up our kiosk in order to optimize for both traffic and safety?"',playerOptions:{choices:[{id:"outsideKiosk",desc:"Close to the Temple, but not inside of it.",next:function(){return{beatId:"stock"}}},{id:"firstFloorKiosk",desc:"In the grand hall on the ground floor.",next:function(){return{beatId:"stock"}}},{id:"dungeonLevel1Kiosk",desc:"The first underground level of the Temple.",next:function(){return{beatId:"stock"}}}]}},stock:{id:"stock",desc:'"We have a budget of 300 gp for this venture. We\'d love to get your opinion on spend prioritization!"\n    <p>Fred holds unrolls the budget scroll, which reads as follows:</p>\n<ul>\n  <li>Climbing supply box (ropes, spikes, grappling hooks): 20 gp</li>\n  <li>Lighting box (lanterns, torches, oil, tinder kits): 10 gp</li>\n  <li>Ammo box (flight arrows, quarrels, and darts): 10 gp</li>\n  <li>Potion of Healing: 200 gp (retail for 300 gp)</li>\n  <li>Worg Juice keg: 50 gp</li>\n  <li>Dry rations (100) box: 50 gp</li>\n  <li>Fully closeable and lockable kiosk upgrade: 100 gp</li>\n  <li>Guard: 30 gp each</li>\n  <li>Cleric: 225 gp</li>\n  <li>Elite guard: 150 gp</li>\n</ul>',question:"How should we budget this?",playerOptions:{freeText:{id:"kioskBudget",hint:"Write your budget recommendation here.",next:function(){return{beatId:"consignment"}}}}},consignment:{id:"consignment",desc:'"BTW, we have a consignment slot open at the kiosk!"',question:'"Is there anything you\'d like to sell? Item Mart takes 20%."',playerOptions:{freeText:{id:"consignmentItem",hint:"Write down what you'd like to give to them to sell and at what price.",next:function(){return{beatId:"analystGoodbye"}}}}},analystGoodbye:{id:"analystGoodbye",desc:'"It was a pleasure working with you, Mogredh. We\'ll let you know how things pan out with the kiosk. And if things don\'t work out with the "adventuring", there may be an opportunity for you in Management in this region very soon [wink]!"\n<p>With that, Fred and Joe roll up their papers and head out with an optimistic swagger.</p>',endOfEncounter:!0},sulk:{id:"sulk",desc:"You shut the door and go back to sulking. It's a good sulk. The end.",endOfEncounter:!0}}},{}],6:[function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../dom/render-beat"),a=t("../dom/render-resolution"),s=t("probable").createProbable,u=t("../tasks/send-encounter"),c=t("await-to-js"),l=t("../encounters/item-mart-analysts"),f=t("../encounters/cultists-meeting"),h={itemMartAnalysts:l.itemMartAnalysts,cultistsMeeting:f.cultistsMeeting},p={gp:0},d=[];e.exports=function(t){var e=t.encounterId,n=t.beatIds,l=t.addToRoute,f=t.random;return r(this,void 0,void 0,function(){function t(t){var e,i=t.choice,o=t.freeText;function s(){var t={beatIds:n.map(encodeURIComponent).join("|")};e.encounterId&&(t.encounterId=e.encounterId),l(t)}i?e=i.next({state:p,beat:_,probable:r,choice:i}):o&&(e=o.next({state:p,beat:_,probable:r,freeText:o})),n.push(e.beatId),d.push(i||o),d.push(e),console.log("actionLog",JSON.stringify(d,null,2)),e.resolutionText?a.renderResolution({resolutionText:e.resolutionText,onAcknowledge:s}):s()}var r,y,_,v,g;return i(this,function(i){switch(i.label){case 0:return r=s({random:f}),y=h[e],function(t){t.playerOptions&&t.playerOptions.choices&&(t.playerOptions.choices=t.playerOptions.choices.filter(function(t){return!t.condition||t.condition({state:p})}))}(_=y[n[n.length-1]]),o.renderBeat({beat:_,onPlayerAction:t}),_.endOfEncounter?[4,c.to(u.sendEncounter({encounterId:e,beatIds:n,state:p,actionLog:d}))]:[3,2];case 1:v=i.sent()[0],g="End of encounter. Your feats were sent to the DM! Nice work.",v&&(g="Doh! This would normally be the end, but there was an error while sending encounter report to the DM. Clear the stuff after the # and try again. Error message: "+v.message),a.renderResolution({resolutionText:g}),i.label=2;case 2:return[2]}})})}},{"../dom/render-beat":2,"../dom/render-resolution":3,"../encounters/cultists-meeting":4,"../encounters/item-mart-analysts":5,"../tasks/send-encounter":41,"await-to-js":8,probable:24}],7:[function(t,e,n){var r=t("get-at-path");function i(t){return t}e.exports=function(t,e){var n="id";if(t){if("identity"===t)return i;n="string"==typeof t?t:"object"==typeof t&&"string"==typeof t.path?t.path.split("/"):""+t}return function(t,e){return function(n){if("object"==typeof n){var i=function(t,e){return"string"==typeof e?t[e]:Array.isArray(e)?r(t,e):void 0}(n,t);return void 0===i?e:i}return e}}(n,e)}},{"get-at-path":18}],8:[function(t,e,n){var r,i;r=this,i=function(t){"use strict";function e(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&Object.assign(t,e),[t,void 0]})}t.to=e,t.default=e,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(r.awaitToJs={})},{}],9:[function(t,e,n){if("object"==typeof e&&"object"==typeof e.exports){var r={makeRequest:function(t,e){var n=t.json||"application/json"===t.mimeType,r=new XMLHttpRequest;if(r.open(t.method,t.url),t.mimeType&&r.setRequestHeader("content-type",t.mimeType),n&&r.setRequestHeader("accept","application/json"),"object"==typeof t.headers)for(var i in t.headers)r.setRequestHeader(i,t.headers[i]);t.binary&&(r.responseType="arraybuffer"),n&&"object"==typeof t.body&&(t.body=JSON.stringify(t.body));var o=null;r.onload=function(){clearTimeout(o),t.onData&&u();var i={statusCode:this.status,statusMessage:r.statusText,responseURL:r.responseURL,rawResponse:r.response,xhr:r};if(t.binary)e(null,i,r.response);else{var a=this.responseText;if(n)try{a=JSON.parse(a)}catch(t){i.jsonParseError=t}e(null,i,a)}};var a=0;function s(){r.abort(),clearTimeout(o),e()}function u(){r.responseText&&(t.onData(r.responseText.substr(a)),a=r.responseText.length)}return t.onData&&(r.onreadystatechange=function(){3===r.readyState&&u()}),r.onerror=function(){var t=new Error("There is a problem with the network.");t.name="XHR network error",e(t)},r.send(t.formData||t.body),t.timeLimit>0&&(o=setTimeout(s,t.timeLimit)),{url:t.url,cancelRequest:s}}};e.exports=r.makeRequest}},{}],10:[function(t,e,n){},{}],11:[function(t,e,n){var r,i;r=this,i=function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){var n;return 1===t.length&&(n=t,t=function(t,r){return e(n(t),r)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var r=n(e),i=r.right,o=r.left;function a(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function s(t){return 0|t.length}function u(t){return!(t>0)}function c(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function l(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(o+=(n=e-i)*(e-(i+=n/++r)));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(o+=(n=s-i)*(s-(i+=n/++r)))}if(r>1)return o/(r-1)}function f(t,e){const n=l(t,e);return n?Math.sqrt(n):n}function h(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function p(t){return t}function d(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new Map,s=r[o++];let u=-1;for(const t of i){const e=s(t,++u,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}var y=Array.prototype.slice;function _(t){return function(){return t}}function v(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var g=Math.sqrt(50),m=Math.sqrt(10),x=Math.sqrt(2);function b(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=g?10:o>=m?5:o>=x?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=g?10:o>=m?5:o>=x?2:1)}function w(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=g?i*=10:o>=m?i*=5:o>=x&&(i*=2),e<t?-i:i}function T(t){return Math.ceil(Math.log(a(t))/Math.LN2)+1}function A(){var t=p,e=h,n=T;function r(r){Array.isArray(r)||(r=Array.from(r));var o,a,s=r.length,u=new Array(s);for(o=0;o<s;++o)u[o]=t(r[o],o,r);var c=e(u),l=c[0],f=c[1],h=n(u,l,f);Array.isArray(h)||(h=w(l,f,h),h=v(Math.ceil(l/h)*h,f,h));for(var p=h.length;h[0]<=l;)h.shift(),--p;for(;h[p-1]>f;)h.pop(),--p;var d,y=new Array(p+1);for(o=0;o<=p;++o)(d=y[o]=[]).x0=o>0?h[o-1]:l,d.x1=o<p?h[o]:f;for(o=0;o<s;++o)l<=(a=u[o])&&a<=f&&y[i(h,a,0,p)].push(r[o]);return y}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:_(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:_([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_(y.call(t)):_(t),r):n},r}function k(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function j(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function O(t,n,r=0,i=t.length-1,o=e){for(;i>r;){if(i-r>600){const e=i-r+1,a=n-r+1,s=Math.log(e),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(e-u)/e)*(a-e/2<0?-1:1);O(t,n,Math.max(r,Math.floor(n-a*u/e+c)),Math.min(i,Math.floor(n+(e-a)*u/e+c)),o)}const e=t[n];let a=r,s=i;for(M(t,r,n),o(t[i],e)>0&&M(t,r,i);a<s;){for(M(t,a,s),++a,--s;o(t[a],e)<0;)++a;for(;o(t[s],e)>0;)--s}0===o(t[r],e)?M(t,r,s):M(t,++s,i),s<=n&&(r=s+1),n<=s&&(i=s-1)}return t}function M(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function S(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return j(t);if(e>=1)return k(t);var r,i=(r-1)*e,o=Math.floor(i),a=k(O(t,o).subarray(0,o+1));return a+(j(t.subarray(o+1))-a)*(i-o)}}function E(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function N(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function P(t,n=e){if(1===n.length)return N(t,n);let r,i=-1,o=-1;for(const e of t)++o,(i<0?0===n(e,e):n(e,r)<0)&&(r=e,i=o);return i}function I(t){if(!(i=t.length))return[];for(var e=-1,n=j(t,R),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function R(t){return t.length}t.ascending=e,t.bin=A,t.bisect=i,t.bisectLeft=o,t.bisectRight=i,t.bisector=n,t.count=a,t.cross=function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(c)).map(s),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(u))return o;for(;;){o.push(i.map((e,n)=>t[n][e]));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}},t.cumsum=function(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=f,t.extent=h,t.greatest=function(t,n=e){let r,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?e(t,o)>0:0===e(t,t))&&(r=a,o=t,i=!0)}}else for(const e of t)(i?n(e,r)>0:0===n(e,e))&&(r=e,i=!0);return r},t.greatestIndex=function(t,n=e){if(1===n.length)return E(t,n);let r,i=-1,o=-1;for(const e of t)++o,(i<0?0===n(e,e):n(e,r)>0)&&(r=e,i=o);return i},t.group=function(t,...e){return d(t,p,p,e)},t.groups=function(t,...e){return d(t,Array.from,p,e)},t.histogram=A,t.least=function(t,n=e){let r,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?e(t,o)<0:0===e(t,t))&&(r=a,o=t,i=!0)}}else for(const e of t)(i?n(e,r)<0:0===n(e,e))&&(r=e,i=!0);return r},t.leastIndex=P,t.max=k,t.maxIndex=E,t.mean=function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},t.median=function(t,e){return S(t,.5,e)},t.merge=function(t){return Array.from(function*(t){for(const e of t)yield*e}(t))},t.min=j,t.minIndex=N,t.pairs=function(t,e=function(t,e){return[t,e]}){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n},t.permute=function(t,e){return Array.from(e,e=>t[e])},t.quantile=S,t.quantileSorted=function(t,e,n=function(t){return null===t?NaN:+t}){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},t.quickselect=O,t.range=v,t.rollup=function(t,e,...n){return d(t,p,e,n)},t.rollups=function(t,e,...n){return d(t,Array.from,e,n)},t.scan=function(t,e){const n=P(t,e);return n<0?void 0:n},t.shuffle=function(t,e=0,n=t.length){for(var r,i,o=n-(e=+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n},t.thresholdFreedmanDiaconis=function(t,e,n){return Math.ceil((n-e)/(2*(S(t,.75)-S(t,.25))*Math.pow(a(t),-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*f(t)*Math.pow(a(t),-1/3)))},t.thresholdSturges=T,t.tickIncrement=b,t.tickStep=w,t.ticks=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=b(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o},t.transpose=I,t.variance=l,t.zip=function(){return I(arguments)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],12:[function(t,e,n){var r,i;r=this,i=function(t){"use strict";var e=Math.PI,n=2*e,r=n-1e-6;function i(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new i}i.prototype=o.prototype={constructor:i,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,r,i,o){t=+t,n=+n,r=+r,i=+i,o=+o;var a=this._x1,s=this._y1,u=r-t,c=i-n,l=a-t,f=s-n,h=l*l+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*u-c*l)>1e-6&&o){var p=r-a,d=i-s,y=u*u+c*c,_=p*p+d*d,v=Math.sqrt(y),g=Math.sqrt(h),m=o*Math.tan((e-Math.acos((y+h-_)/(2*v*g)))/2),x=m/g,b=m/v;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*l)+","+(n+x*f)),this._+="A"+o+","+o+",0,0,"+ +(f*p>l*d)+","+(this._x1=t+b*u)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,i,o,a,s,u){t=+t,i=+i,u=!!u;var c=(o=+o)*Math.cos(a),l=o*Math.sin(a),f=t+c,h=i+l,p=1^u,d=u?a-s:s-a;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),o&&(d<0&&(d=d%n+n),d>r?this._+="A"+o+","+o+",0,1,"+p+","+(t-c)+","+(i-l)+"A"+o+","+o+",0,1,"+p+","+(this._x1=f)+","+(this._y1=h):d>1e-6&&(this._+="A"+o+","+o+",0,"+ +(d>=e)+","+p+","+(this._x1=t+o*Math.cos(s))+","+(this._y1=i+o*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=o,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],13:[function(t,e,n){var r,i;r=this,i=function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t}function i(t){var n=r(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(r,t)}})(n)}function o(){}function a(t){return null==t?o:function(){return this.querySelector(t)}}function s(){return[]}function u(t){return null==t?s:function(){return this.querySelectorAll(t)}}function c(t){return function(){return this.matches(t)}}function l(t){return new Array(t.length)}function f(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var h="$";function p(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new f(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function d(t,e,n,r,i,o,a){var s,u,c,l={},p=e.length,d=o.length,y=new Array(p);for(s=0;s<p;++s)(u=e[s])&&(y[s]=c=h+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<d;++s)(u=l[c=h+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new f(t,o[s]);for(s=0;s<p;++s)(u=e[s])&&l[y[s]]===u&&(i[s]=u)}function y(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function v(t,e){return t.style.getPropertyValue(e)||_(t).getComputedStyle(t,null).getPropertyValue(e)}function g(t){return t.trim().split(/^|\s+/)}function m(t){return t.classList||new x(t)}function x(t){this._node=t,this._names=g(t.getAttribute("class")||"")}function b(t,e){for(var n=m(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function w(t,e){for(var n=m(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function T(){this.textContent=""}function A(){this.innerHTML=""}function k(){this.nextSibling&&this.parentNode.appendChild(this)}function j(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function O(){return null}function M(){var t=this.parentNode;t&&t.removeChild(this)}function S(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}x.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var N={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(N={mouseenter:"mouseover",mouseleave:"mouseout"}));function P(t,e,n){return t=I(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function I(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function R(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function C(t,e,n){var r=N.hasOwnProperty(t.type)?P:I;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function q(t,e,n){var r=_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var D=[null];function F(t,e){this._groups=t,this._parents=e}function L(){return new F([[document.documentElement]],D)}function z(t){return"string"==typeof t?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],D)}F.prototype=L.prototype={constructor:F,select:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,u=e[i],c=u.length,l=r[i]=new Array(c),f=0;f<c;++f)(o=u[f])&&(s=t.call(o,o.__data__,f,u))&&("__data__"in o&&(s.__data__=o.__data__),l[f]=s);return new F(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new F(r,i)},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new F(r,this._parents)},data:function(t,e){if(!t)return _=new Array(this.size()),l=-1,this.each(function(t){_[++l]=t}),_;var n,r=e?d:p,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],y=h.length,_=t.call(f,f&&f.__data__,l,i),v=_.length,g=u[l]=new Array(v),m=s[l]=new Array(v);r(f,h,g,m,c[l]=new Array(y),_,e);for(var x,b,w=0,T=0;w<v;++w)if(x=g[w]){for(w>=T&&(T=w+1);!(b=m[T])&&++T<v;);x._next=b||null}}return(s=new F(s,i))._enter=u,s._exit=c,s},enter:function(){return new F(this._enter||this._groups.map(l),this._parents)},exit:function(){return new F(this._exit||this._groups.map(l),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new F(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new F(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=r(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):v(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=g(t+"");if(arguments.length<2){for(var r=m(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?b:w)(this,t)}}:e?function(t){return function(){b(this,t)}}:function(t){return function(){w(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?A:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(k)},lower:function(){return this.each(j)},append:function(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:i(t),r=null==e?O:"function"==typeof e?e:a(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(M)},clone:function(t){return this.select(t?E:S)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?C:R,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return q(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return q(this,t,e)}})(t,e))}};var B=0;function W(){return new H}function H(){this._="@"+(++B).toString(36)}function U(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function $(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}H.prototype=W.prototype={constructor:H,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.clientPoint=$,t.create=function(t){return z(i(t).call(document.documentElement))},t.creator=i,t.customEvent=function(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}},t.local=W,t.matcher=c,t.mouse=function(t){var e=U();return e.changedTouches&&(e=e.changedTouches[0]),$(t,e)},t.namespace=r,t.namespaces=n,t.select=z,t.selectAll=function(t){return"string"==typeof t?new F([document.querySelectorAll(t)],[document.documentElement]):new F([null==t?[]:t],D)},t.selection=L,t.selector=a,t.selectorAll=u,t.style=v,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=U().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return $(t,r);return null},t.touches=function(t,e){null==e&&(e=U().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=$(t,e[n]);return i},t.window=_,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],14:[function(t,e,n){var r,i;r=this,i=function(t,e){"use strict";function n(t){return function(){return t}}var r=Math.abs,i=Math.atan2,o=Math.cos,a=Math.max,s=Math.min,u=Math.sin,c=Math.sqrt,l=1e-12,f=Math.PI,h=f/2,p=2*f;function d(t){return t>=1?h:t<=-1?-h:Math.asin(t)}function y(t){return t.innerRadius}function _(t){return t.outerRadius}function v(t){return t.startAngle}function g(t){return t.endAngle}function m(t){return t&&t.padAngle}function x(t,e,n,r,i,o,s){var u=t-n,l=e-r,f=(s?o:-o)/c(u*u+l*l),h=f*l,p=-f*u,d=t+h,y=e+p,_=n+h,v=r+p,g=(d+_)/2,m=(y+v)/2,x=_-d,b=v-y,w=x*x+b*b,T=i-o,A=d*v-_*y,k=(b<0?-1:1)*c(a(0,T*T*w-A*A)),j=(A*b-x*k)/w,O=(-A*x-b*k)/w,M=(A*b+x*k)/w,S=(-A*x+b*k)/w,E=j-g,N=O-m,P=M-g,I=S-m;return E*E+N*N>P*P+I*I&&(j=M,O=S),{cx:j,cy:O,x01:-h,y01:-p,x11:j*(i/T-1),y11:O*(i/T-1)}}function b(t){this._context=t}function w(t){return new b(t)}function T(t){return t[0]}function A(t){return t[1]}function k(){var t=T,r=A,i=n(!0),o=null,a=w,s=null;function u(n){var u,c,l,f=n.length,h=!1;for(null==o&&(s=a(l=e.path())),u=0;u<=f;++u)!(u<f&&i(c=n[u],u,n))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(c,u,n),+r(c,u,n));if(l)return s=null,l+""||null}return u.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),u):t},u.y=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),u):r},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:n(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}function j(){var t=T,r=null,i=n(0),o=A,a=n(!0),s=null,u=w,c=null;function l(n){var l,f,h,p,d,y=n.length,_=!1,v=new Array(y),g=new Array(y);for(null==s&&(c=u(d=e.path())),l=0;l<=y;++l){if(!(l<y&&a(p=n[l],l,n))===_)if(_=!_)f=l,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=l-1;h>=f;--h)c.point(v[h],g[h]);c.lineEnd(),c.areaEnd()}_&&(v[l]=+t(p,l,n),g[l]=+i(p,l,n),c.point(r?+r(p,l,n):v[l],o?+o(p,l,n):g[l]))}if(d)return c=null,d+""||null}function f(){return k().defined(a).curve(u).context(s)}return l.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),r=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),l):t},l.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:n(+t),l):r},l.y=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),o=null,l):i},l.y0=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),l):i},l.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:n(+t),l):o},l.lineX0=l.lineY0=function(){return f().x(t).y(i)},l.lineY1=function(){return f().x(t).y(o)},l.lineX1=function(){return f().x(r).y(i)},l.defined=function(t){return arguments.length?(a="function"==typeof t?t:n(!!t),l):a},l.curve=function(t){return arguments.length?(u=t,null!=s&&(c=u(s)),l):u},l.context=function(t){return arguments.length?(null==t?s=c=null:c=u(s=t),l):s},l}function O(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function M(t){return t}b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var S=N(w);function E(t){this._curve=t}function N(t){function e(e){return new E(t(e))}return e._curve=t,e}function P(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(N(t)):e()._curve},t}function I(){return P(k().curve(S))}function R(){var t=j().curve(S),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return P(n())},delete t.lineX0,t.lineEndAngle=function(){return P(r())},delete t.lineX1,t.lineInnerRadius=function(){return P(i())},delete t.lineY0,t.lineOuterRadius=function(){return P(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(N(t)):e()._curve},t}function C(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}E.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var q=Array.prototype.slice;function D(t){return t.source}function F(t){return t.target}function L(t){var r=D,i=F,o=T,a=A,s=null;function u(){var n,u=q.call(arguments),c=r.apply(this,u),l=i.apply(this,u);if(s||(s=n=e.path()),t(s,+o.apply(this,(u[0]=c,u)),+a.apply(this,u),+o.apply(this,(u[0]=l,u)),+a.apply(this,u)),n)return s=null,n+""||null}return u.source=function(t){return arguments.length?(r=t,u):r},u.target=function(t){return arguments.length?(i=t,u):i},u.x=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),u):o},u.y=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}function z(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function B(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function W(t,e,n,r,i){var o=C(e,n),a=C(e,n=(n+i)/2),s=C(r,n),u=C(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}var H={draw:function(t,e){var n=Math.sqrt(e/f);t.moveTo(n,0),t.arc(0,0,n,0,p)}},U={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},$=Math.sqrt(1/3),X=2*$,V={draw:function(t,e){var n=Math.sqrt(e/X),r=n*$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Y=Math.sin(f/10)/Math.sin(7*f/10),G=Math.sin(p/10)*Y,K=-Math.cos(p/10)*Y,Q={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=G*n,i=K*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=p*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},J={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Z=Math.sqrt(3),tt={draw:function(t,e){var n=-Math.sqrt(e/(3*Z));t.moveTo(0,2*n),t.lineTo(-Z*n,-n),t.lineTo(Z*n,-n),t.closePath()}},et=-.5,nt=Math.sqrt(3)/2,rt=1/Math.sqrt(12),it=3*(rt/2+1),ot={draw:function(t,e){var n=Math.sqrt(e/it),r=n/2,i=n*rt,o=r,a=n*rt+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(et*r-nt*i,nt*r+et*i),t.lineTo(et*o-nt*a,nt*o+et*a),t.lineTo(et*s-nt*u,nt*s+et*u),t.lineTo(et*r+nt*i,et*i-nt*r),t.lineTo(et*o+nt*a,et*a-nt*o),t.lineTo(et*s+nt*u,et*u-nt*s),t.closePath()}},at=[H,U,V,J,Q,tt,ot];function st(){}function ut(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ct(t){this._context=t}function lt(t){this._context=t}function ft(t){this._context=t}function ht(t,e){this._basis=new ct(t),this._beta=e}ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ut(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},lt.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ht.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var pt=function t(e){function n(t){return 1===e?new ct(t):new ht(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function dt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function yt(t,e){this._context=t,this._k=(1-e)/6}yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var _t=function t(e){function n(t){return new yt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function vt(t,e){this._context=t,this._k=(1-e)/6}vt.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gt=function t(e){function n(t){return new vt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function mt(t,e){this._context=t,this._k=(1-e)/6}mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xt=function t(e){function n(t){return new mt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function bt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>l){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>l){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/f,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tt=function t(e){function n(t){return e?new wt(t,e):new yt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function At(t,e){this._context=t,this._alpha=e}At.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function t(e){function n(t){return e?new At(t,e):new vt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function jt(t,e){this._context=t,this._alpha=e}jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ot=function t(e){function n(t){return e?new jt(t,e):new mt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Mt(t){this._context=t}function St(t){return t<0?-1:1}function Et(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(St(o)+St(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Nt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Pt(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function It(t){this._context=t}function Rt(t){this._context=new Ct(t)}function Ct(t){this._context=t}function qt(t){this._context=t}function Dt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Ft(t,e){this._context=t,this._t=e}function Lt(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function zt(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Bt(t,e){return t[e]}function Wt(t){var e=t.map(Ht);return zt(t).sort(function(t,n){return e[t]-e[n]})}function Ht(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function Ut(t){var e=t.map($t);return zt(t).sort(function(t,n){return e[t]-e[n]})}function $t(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}Mt.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pt(this,this._t0,Nt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Pt(this,Nt(this,n=Et(this,t,e)),n);break;default:Pt(this,this._t0,n=Et(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Rt.prototype=Object.create(It.prototype)).point=function(t,e){It.prototype.point.call(this,e,t)},Ct.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Dt(t),i=Dt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},t.arc=function(){var t=y,a=_,b=n(0),w=null,T=v,A=g,k=m,j=null;function O(){var n,y,_,v=+t.apply(this,arguments),g=+a.apply(this,arguments),m=T.apply(this,arguments)-h,O=A.apply(this,arguments)-h,M=r(O-m),S=O>m;if(j||(j=n=e.path()),g<v&&(y=g,g=v,v=y),g>l)if(M>p-l)j.moveTo(g*o(m),g*u(m)),j.arc(0,0,g,m,O,!S),v>l&&(j.moveTo(v*o(O),v*u(O)),j.arc(0,0,v,O,m,S));else{var E,N,P=m,I=O,R=m,C=O,q=M,D=M,F=k.apply(this,arguments)/2,L=F>l&&(w?+w.apply(this,arguments):c(v*v+g*g)),z=s(r(g-v)/2,+b.apply(this,arguments)),B=z,W=z;if(L>l){var H=d(L/v*u(F)),U=d(L/g*u(F));(q-=2*H)>l?(R+=H*=S?1:-1,C-=H):(q=0,R=C=(m+O)/2),(D-=2*U)>l?(P+=U*=S?1:-1,I-=U):(D=0,P=I=(m+O)/2)}var $=g*o(P),X=g*u(P),V=v*o(C),Y=v*u(C);if(z>l){var G,K=g*o(I),Q=g*u(I),J=v*o(R),Z=v*u(R);if(M<f&&(G=function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,f=a-i,h=s-o,p=h*u-f*c;if(!(p*p<l))return[t+(p=(f*(e-o)-h*(t-i))/p)*u,e+p*c]}($,X,J,Z,K,Q,V,Y))){var tt=$-G[0],et=X-G[1],nt=K-G[0],rt=Q-G[1],it=1/u(((_=(tt*nt+et*rt)/(c(tt*tt+et*et)*c(nt*nt+rt*rt)))>1?0:_<-1?f:Math.acos(_))/2),ot=c(G[0]*G[0]+G[1]*G[1]);B=s(z,(v-ot)/(it-1)),W=s(z,(g-ot)/(it+1))}}D>l?W>l?(E=x(J,Z,$,X,g,W,S),N=x(K,Q,V,Y,g,W,S),j.moveTo(E.cx+E.x01,E.cy+E.y01),W<z?j.arc(E.cx,E.cy,W,i(E.y01,E.x01),i(N.y01,N.x01),!S):(j.arc(E.cx,E.cy,W,i(E.y01,E.x01),i(E.y11,E.x11),!S),j.arc(0,0,g,i(E.cy+E.y11,E.cx+E.x11),i(N.cy+N.y11,N.cx+N.x11),!S),j.arc(N.cx,N.cy,W,i(N.y11,N.x11),i(N.y01,N.x01),!S))):(j.moveTo($,X),j.arc(0,0,g,P,I,!S)):j.moveTo($,X),v>l&&q>l?B>l?(E=x(V,Y,K,Q,v,-B,S),N=x($,X,J,Z,v,-B,S),j.lineTo(E.cx+E.x01,E.cy+E.y01),B<z?j.arc(E.cx,E.cy,B,i(E.y01,E.x01),i(N.y01,N.x01),!S):(j.arc(E.cx,E.cy,B,i(E.y01,E.x01),i(E.y11,E.x11),!S),j.arc(0,0,v,i(E.cy+E.y11,E.cx+E.x11),i(N.cy+N.y11,N.cx+N.x11),S),j.arc(N.cx,N.cy,B,i(N.y11,N.x11),i(N.y01,N.x01),!S))):j.arc(0,0,v,C,R,S):j.lineTo(V,Y)}else j.moveTo(0,0);if(j.closePath(),n)return j=null,n+""||null}return O.centroid=function(){var e=(+t.apply(this,arguments)+ +a.apply(this,arguments))/2,n=(+T.apply(this,arguments)+ +A.apply(this,arguments))/2-f/2;return[o(n)*e,u(n)*e]},O.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),O):t},O.outerRadius=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),O):a},O.cornerRadius=function(t){return arguments.length?(b="function"==typeof t?t:n(+t),O):b},O.padRadius=function(t){return arguments.length?(w=null==t?null:"function"==typeof t?t:n(+t),O):w},O.startAngle=function(t){return arguments.length?(T="function"==typeof t?t:n(+t),O):T},O.endAngle=function(t){return arguments.length?(A="function"==typeof t?t:n(+t),O):A},O.padAngle=function(t){return arguments.length?(k="function"==typeof t?t:n(+t),O):k},O.context=function(t){return arguments.length?(j=null==t?null:t,O):j},O},t.area=j,t.areaRadial=R,t.curveBasis=function(t){return new ct(t)},t.curveBasisClosed=function(t){return new lt(t)},t.curveBasisOpen=function(t){return new ft(t)},t.curveBundle=pt,t.curveCardinal=_t,t.curveCardinalClosed=gt,t.curveCardinalOpen=xt,t.curveCatmullRom=Tt,t.curveCatmullRomClosed=kt,t.curveCatmullRomOpen=Ot,t.curveLinear=w,t.curveLinearClosed=function(t){return new Mt(t)},t.curveMonotoneX=function(t){return new It(t)},t.curveMonotoneY=function(t){return new Rt(t)},t.curveNatural=function(t){return new qt(t)},t.curveStep=function(t){return new Ft(t,.5)},t.curveStepAfter=function(t){return new Ft(t,1)},t.curveStepBefore=function(t){return new Ft(t,0)},t.line=k,t.lineRadial=I,t.linkHorizontal=function(){return L(z)},t.linkRadial=function(){var t=L(W);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return L(B)},t.pie=function(){var t=M,e=O,r=null,i=n(0),o=n(p),a=n(0);function s(n){var s,u,c,l,f,h=n.length,d=0,y=new Array(h),_=new Array(h),v=+i.apply(this,arguments),g=Math.min(p,Math.max(-p,o.apply(this,arguments)-v)),m=Math.min(Math.abs(g)/h,a.apply(this,arguments)),x=m*(g<0?-1:1);for(s=0;s<h;++s)(f=_[y[s]=s]=+t(n[s],s,n))>0&&(d+=f);for(null!=e?y.sort(function(t,n){return e(_[t],_[n])}):null!=r&&y.sort(function(t,e){return r(n[t],n[e])}),s=0,c=d?(g-h*x)/d:0;s<h;++s,v=l)u=y[s],l=v+((f=_[u])>0?f*c:0)+x,_[u]={data:n[u],index:s,value:f,startAngle:v,endAngle:l,padAngle:m};return _}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,r=null,s):e},s.sort=function(t){return arguments.length?(r=t,e=null,s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),s):a},s},t.pointRadial=C,t.radialArea=R,t.radialLine=I,t.stack=function(){var t=n([]),e=zt,r=Lt,i=Bt;function o(n){var o,a,s=t.apply(this,arguments),u=n.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var f,h=s[o],p=l[o]=new Array(u),d=0;d<u;++d)p[d]=f=[0,+i(n[d],h,d,n)],f.data=n[d];p.key=h}for(o=0,a=e(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:n(q.call(e)),o):t},o.value=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),o):i},o.order=function(t){return arguments.length?(e=null==t?zt:"function"==typeof t?t:n(q.call(t)),o):e},o.offset=function(t){return arguments.length?(r=null==t?Lt:t,o):r},o},t.stackOffsetDiverging=function(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Lt(t,e)}},t.stackOffsetNone=Lt,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Lt(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,p=0;p<s;++p){var d=t[e[p]];h+=(d[a][1]||0)-(d[a-1][1]||0)}u+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,Lt(t,e)}},t.stackOrderAppearance=Wt,t.stackOrderAscending=Ut,t.stackOrderDescending=function(t){return Ut(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map($t),o=Wt(t),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},t.stackOrderNone=zt,t.stackOrderReverse=function(t){return zt(t).reverse()},t.symbol=function(){var t=n(H),r=n(64),i=null;function o(){var n;if(i||(i=n=e.path()),t.apply(this,arguments).draw(i,+r.apply(this,arguments)),n)return i=null,n+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:n(e),o):t},o.size=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),o):r},o.context=function(t){return arguments.length?(i=null==t?null:t,o):i},o},t.symbolCircle=H,t.symbolCross=U,t.symbolDiamond=V,t.symbolSquare=J,t.symbolStar=Q,t.symbolTriangle=tt,t.symbolWye=ot,t.symbols=at,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],i):i((r=r||self).d3=r.d3||{},r.d3)},{"d3-path":12}],15:[function(t,e,n){var r=t("probable"),i=t("lodash.isobject");function o(t,e){return t+e}function a(t){var e={};if("string"!=typeof t)throw new Error("Parameter `command` must be a string, not undefined");if(-1!==t.search(/d\d/i)){var n=t.match(/(\d+)d/i);e.times=n&&n[1]&&parseInt(n[1])||1;var r=t.match(/d(\d+)/i);e.faces=r&&r[1]&&parseInt(r[1])||0;var i=t.match(/\(k(\d+)\)/i);e.keep=i&&i[1]&&parseInt(i[1])||null;var o=/-L/.test(t);e.lowest=o;var a=/-H/.test(t);e.highest=a;var s=t.match(/(?!d\d+)x([\d.]+)/);e.multiplier=s&&s[1]&&parseFloat(s[1])||1;var u=t.match(/(\+[\d.]+\)?|-[\d.]+)\)?/);e.modifier=u&&u[1]&&parseFloat(u[1])||0;var c=t.match(/^(\d+)x\(|\)x(\d+)$/);return e.repeat=c&&c[1]&&parseInt(c[1])||c&&c[2]&&parseInt(c[2])||1,e}}e.exports=function(t){var e,n,s=r;function u(t){var r={rolls:[],total:NaN,source:t},i=function(t){var r;return!function(t){return void 0!==e&&t.times>e}(t)?function(t){return void 0!==n&&t.faces>n}(t)&&((r=new Error("I don't have a die with that many faces.")).name="Not enough faces"):(r=new Error("I can't roll that many times.")).name="Too many rolls",r}(t);if(i)r.error=i;else{for(var a=0;a<t.times;++a)r.rolls.push(s.rollDie(t.faces));r.total=r.rolls.reduce(o,0),r.total*=t.multiplier,r.total+=t.modifier}return r}return t&&(t.probable&&(s=t.probable),t.numberOfRollsLimit&&(e=t.numberOfRollsLimit),t.numberOfFacesOnLargestDie&&(n=t.numberOfFacesOnLargestDie)),{roll:function(t){var e=t.trim().split(" ").map(a);return(e=e.filter(i)).map(u)}}}},{"lodash.isobject":23,probable:16}],16:[function(t,e,n){function r(t){var e=Math.random;function n(t){return Math.floor(e()*t)}function r(t){var e=t,r=e[e.length-1][0][1]-e[0][0][0]+1;function i(t){return function(t,e){e=+e;for(var n=0;n<t.length;++n){var r=t[n],i=r[0];if(e>=i[0]&&e<=i[1])return r[1]}}(e,t)}return{outcomeAtIndex:i,roll:function(){var t=i(n(r));return"function"==typeof t?t():t},length:r,getRangesAndOutcomesArray:function(){return e}}}function i(t){var e=[],n=-1,r=function(t){var e=[];for(var n in t){var r=t[n];e.push([r,n])}return e}(t);return(r=r.sort(o)).forEach(function(t){var r=t[0],i=t[1],o=n+1,a=o+r-1;e.push([[o,a],i]),n=a}),e}function o(t,e){return t[0]>e[0]?-1:1}function a(t){return r(function(t){var e=[];for(var n in t){var r=s(n),i=t[n];if("object"==typeof i)if(Array.isArray(i))i=c(i);else{var o=a(i);"function"==typeof o.roll&&(i=o.roll)}e.push([r,i])}return e}(t))}function s(t){var e=t.split("-");if(!(e.length>2))return 1===e.length?[+t,+t]:[+e[0],+e[1]]}function u(t,e){return!t||"number"!=typeof t.length||t.length<1?e:t[n(t.length)]}function c(t,e){return function(){return u(t,e)}}function l(t,e){var n=[];return t.forEach(function(t){e.forEach(function(e){Array.isArray(t)||Array.isArray(e)?n.push(t.concat(e)):n.push([t,e])})}),n}function f(t){for(var e,r=t.length,i=Array(r),o=0;o<r;o++)(e=n(o+1))!==o&&(i[o]=i[e]),i[e]=t[o];return i}return t&&t.random&&(e=t.random),{roll:n,rollDie:function(t){return 0===t?0:n(t)+1},createRangeTable:r,createRangeTableFromDict:function(t){return r(i(t))},createTableFromDef:a,convertDictToRangesAndOutcomePairs:i,pickFromArray:u,crossArrays:l,getCartesianProduct:function(t){return t.slice(1).reduce(l,t[0])},shuffle:f,sample:function(t,e){return f(t).slice(0,e)}}}var i=r();"object"==typeof e&&(e.exports=i,e.exports.createProbable=r)},{}],17:[function(t,e,n){var r=t("basic-browser-request");e.exports=async function(t){var e=t.acceptableErrorCodeRanges;return e||(e=[[200,300]]),new Promise(function(n){r(t,function(r,i,o){r||!t.checkHTTPErrorCode||function(t){for(let n=0;n<e.length;++n){let r=e[n];if(t>=r[0]&&t<=r[1])return!0}return!1}(i.statusCode)||(r=new Error(`Received status code ${i.statusCode} from ${t.url}.`)),n({error:r,res:i,body:o})})})}},{"basic-browser-request":9}],18:[function(t,e,n){e.exports=function(t,e){var n=t;if(e.every(function(t){return n=n[t]},!0))return n}},{}],19:[function(t,e,n){e.exports=function(t){if(t){console.error(t,t.stack);var e="";t.name&&(e+=t.name+": "),e+=t.message,t.stack&&(e+=" | "+t.stack.toString()),function(t){var e=document.getElementById("status-message");e.textContent=t,e.classList.remove("hidden")}(e)}}},{}],20:[function(t,e,n){(function(t){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",y="[object Set]",_="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",x="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",M="[object Uint32Array]",S=/\w*$/,E=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,P={};P[a]=P["[object Array]"]=P[g]=P[m]=P[s]=P[u]=P[x]=P[b]=P[w]=P[T]=P[A]=P[f]=P[h]=P[p]=P[d]=P[y]=P[_]=P[v]=P[k]=P[j]=P[O]=P[M]=!0,P["[object Error]"]=P[c]=P["[object WeakMap]"]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,C=I||R||Function("return this")(),q="object"==typeof n&&n&&!n.nodeType&&n,D=q&&"object"==typeof e&&e&&!e.nodeType&&e,F=D&&D.exports===q;function L(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function B(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function U(t,e){return function(n){return t(e(n))}}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var X,V=Array.prototype,Y=Function.prototype,G=Object.prototype,K=C["__core-js_shared__"],Q=(X=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",J=Y.toString,Z=G.hasOwnProperty,tt=G.toString,et=RegExp("^"+J.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=F?C.Buffer:void 0,rt=C.Symbol,it=C.Uint8Array,ot=U(Object.getPrototypeOf,Object),at=Object.create,st=G.propertyIsEnumerable,ut=V.splice,ct=Object.getOwnPropertySymbols,lt=nt?nt.isBuffer:void 0,ft=U(Object.keys,Object),ht=Dt(C,"DataView"),pt=Dt(C,"Map"),dt=Dt(C,"Promise"),yt=Dt(C,"Set"),_t=Dt(C,"WeakMap"),vt=Dt(Object,"create"),gt=Wt(ht),mt=Wt(pt),xt=Wt(dt),bt=Wt(yt),wt=Wt(_t),Tt=rt?rt.prototype:void 0,At=Tt?Tt.valueOf:void 0;function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){this.__data__=new jt(t)}function St(t,e){var n=Ut(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&$t(t)}(t)&&Z.call(t,"callee")&&(!st.call(t,"callee")||tt.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!Z.call(t,o)||i&&("length"==o||zt(o,r))||n.push(o);return n}function Et(t,e,n){var r=t[e];Z.call(t,e)&&Ht(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Nt(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function Pt(t,e,n,r,i,o,E){var N;if(r&&(N=o?r(t,i,o,E):r(t)),void 0!==N)return N;if(!Yt(t))return t;var I=Ut(t);if(I){if(N=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Z.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,N)}else{var R=Lt(t),C=R==c||R==l;if(Xt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(R==p||R==a||C&&!o){if(W(t))return o?t:{};if(N=function(t){return"function"!=typeof t.constructor||Bt(t)?{}:(e=ot(t),Yt(e)?at(e):{});var e}(C?{}:t),!e)return function(t,e){return Ct(t,Ft(t),e)}(t,function(t,e){return t&&Ct(e,Gt(e),t)}(N,t))}else{if(!P[R])return o?t:{};N=function(t,e,n,r){var i=t.constructor;switch(e){case g:return Rt(t);case s:case u:return new i(+t);case m:return function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case x:case b:case w:case T:case A:case k:case j:case O:case M:return function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return B(e?n(H(t),!0):H(t),L,new t.constructor)}(t,r,n);case h:case _:return new i(t);case d:return(c=new(a=t).constructor(a.source,S.exec(a))).lastIndex=a.lastIndex,c;case y:return function(t,e,n){return B(e?n($(t),!0):$(t),z,new t.constructor)}(t,r,n);case v:return o=t,At?Object(At.call(o)):{}}var o;var a,c}(t,R,Pt,e)}}E||(E=new Mt);var q=E.get(t);if(q)return q;if(E.set(t,N),!I)var D=n?function(t){return function(t,e,n){var r=e(t);return Ut(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Gt,Ft)}(t):Gt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(D||t,function(i,o){D&&(i=t[o=i]),Et(N,o,Pt(i,e,n,r,o,t,E))}),N}function It(t){return!(!Yt(t)||Q&&Q in t)&&(Vt(t)||W(t)?et:E).test(Wt(t))}function Rt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Ct(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;Et(n,a,void 0===s?t[a]:s)}return n}function qt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Dt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}kt.prototype.clear=function(){this.__data__=vt?vt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===i?void 0:n}return Z.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:Z.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?i:e,this},jt.prototype.clear=function(){this.__data__=[]},jt.prototype.delete=function(t){var e=this.__data__,n=Nt(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},jt.prototype.get=function(t){var e=this.__data__,n=Nt(e,t);return n<0?void 0:e[n][1]},jt.prototype.has=function(t){return Nt(this.__data__,t)>-1},jt.prototype.set=function(t,e){var n=this.__data__,r=Nt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Ot.prototype.clear=function(){this.__data__={hash:new kt,map:new(pt||jt),string:new kt}},Ot.prototype.delete=function(t){return qt(this,t).delete(t)},Ot.prototype.get=function(t){return qt(this,t).get(t)},Ot.prototype.has=function(t){return qt(this,t).has(t)},Ot.prototype.set=function(t,e){return qt(this,t).set(t,e),this},Mt.prototype.clear=function(){this.__data__=new jt},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof jt){var i=n.__data__;if(!pt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Ot(i)}return n.set(t,e),this};var Ft=ct?U(ct,Object):function(){return[]},Lt=function(t){return tt.call(t)};function zt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||G)}function Wt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(ht&&Lt(new ht(new ArrayBuffer(1)))!=m||pt&&Lt(new pt)!=f||dt&&"[object Promise]"!=Lt(dt.resolve())||yt&&Lt(new yt)!=y||_t&&"[object WeakMap]"!=Lt(new _t))&&(Lt=function(t){var e=tt.call(t),n=e==p?t.constructor:void 0,r=n?Wt(n):void 0;if(r)switch(r){case gt:return m;case mt:return f;case xt:return"[object Promise]";case bt:return y;case wt:return"[object WeakMap]"}return e});var Ut=Array.isArray;function $t(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Vt(t)}var Xt=lt||function(){return!1};function Vt(t){var e=Yt(t)?tt.call(t):"";return e==c||e==l}function Yt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Gt(t){return $t(t)?St(t):function(t){if(!Bt(t))return ft(t);var e=[];for(var n in Object(t))Z.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}e.exports=function(t){return Pt(t,!0,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(t,e,n){(function(t){var n="Expected a function",r="__lodash_placeholder__",i=1,o=2,a=4,s=8,u=16,c=32,l=64,f=128,h=512,p=1/0,d=9007199254740991,y=1.7976931348623157e308,_=NaN,v=[["ary",f],["bind",i],["bindKey",o],["curry",s],["curryRight",u],["flip",h],["partial",c],["partialRight",l],["rearg",256]],g="[object Function]",m="[object GeneratorFunction]",x="[object Symbol]",b=/^\s+|\s+$/g,w=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,T=/\{\n\/\* \[wrapped with (.+)\] \*/,A=/,? & /,k=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,O=/^\[object .+?Constructor\]$/,M=/^0o[0-7]+$/i,S=/^(?:0|[1-9]\d*)$/,E=parseInt,N="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,I=N||P||Function("return this")();function R(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function C(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var i=t.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,q,n);var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function q(t){return t!=t}function D(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[o++]=n)}return a}var F,L,z,B=Function.prototype,W=Object.prototype,H=I["__core-js_shared__"],U=(F=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",$=B.toString,X=W.hasOwnProperty,V=W.toString,Y=RegExp("^"+$.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=Object.create,K=Math.max,Q=Math.min,J=(L=ot(Object,"defineProperty"),(z=ot.name)&&z.length>2?L:void 0);function Z(t){return!(!ct(t)||U&&U in t)&&(function(t){var e=ct(t)?V.call(t):"";return e==g||e==m}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Y:O).test(function(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function tt(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n,r=ct(n=t.prototype)?G(n):{},i=t.apply(r,e);return ct(i)?i:r}}function et(t,e,n,r,a,c,l,p,d,y){var _=e&f,v=e&i,g=e&o,m=e&(s|u),x=e&h,b=g?void 0:tt(t);return function i(){for(var o=arguments.length,s=Array(o),u=o;u--;)s[u]=arguments[u];if(m)var f=it(i),h=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}(s,f);if(r&&(s=function(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=K(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}(s,r,a,m)),c&&(s=function(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=K(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=t[i];for(var p=i;++u<c;)f[p+u]=e[u];for(;++a<s;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}(s,c,l,m)),o-=h,m&&o<y){var w=D(s,f);return nt(t,e,et,i.placeholder,n,s,w,p,d,y-o)}var T=v?n:this,A=g?T[t]:t;return o=s.length,p?s=function(t,e){for(var n=t.length,r=Q(e.length,n),i=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);r--;){var o=e[r];t[r]=at(o,n)?i[o]:void 0}return t}(s,p):x&&o>1&&s.reverse(),_&&d<o&&(s.length=d),this&&this!==I&&this instanceof i&&(A=b||tt(A)),A.apply(T,s)}}function nt(t,e,n,r,u,f,h,p,d,y){var _=e&s;e|=_?c:l,(e&=~(_?l:c))&a||(e&=~(i|o));var v=n(t,e,u,_?f:void 0,_?h:void 0,_?void 0:f,_?void 0:h,p,d,y);return v.placeholder=r,st(v,t,e)}function rt(t,e,r,a,f,h,p,d){var y=e&o;if(!y&&"function"!=typeof t)throw new TypeError(n);var _=a?a.length:0;if(_||(e&=~(c|l),a=f=void 0),p=void 0===p?p:K(ft(p),0),d=void 0===d?d:ft(d),_-=f?f.length:0,e&l){var v=a,g=f;a=f=void 0}var m=[t,e,r,a,f,v,g,h,p,d];if(t=m[0],e=m[1],r=m[2],a=m[3],f=m[4],!(d=m[9]=null==m[9]?y?0:t.length:K(m[9]-_,0))&&e&(s|u)&&(e&=~(s|u)),e&&e!=i)x=e==s||e==u?function(t,e,n){var r=tt(t);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=it(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:D(a,u);return(o-=c.length)<n?nt(t,e,et,i.placeholder,void 0,a,c,void 0,void 0,n-o):R(this&&this!==I&&this instanceof i?r:t,this,a)}}(t,e,d):e!=c&&e!=(i|c)||f.length?et.apply(void 0,m):function(t,e,n,r){var o=e&i,a=tt(t);return function e(){for(var i=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==I&&this instanceof e?a:t;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++i];return R(f,o?n:this,l)}}(t,e,r,a);else var x=function(t,e,n){var r=e&i,o=tt(t);return function e(){return(this&&this!==I&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,r);return st(x,t,e)}function it(t){return t.placeholder}function ot(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Z(n)?n:void 0}function at(t,e){return!!(e=null==e?d:e)&&("number"==typeof t||S.test(t))&&t>-1&&t%1==0&&t<e}var st=J?function(t,e,n){var r,i=e+"";return J(t,"toString",{configurable:!0,enumerable:!1,value:(r=function(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(w,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(v,function(n){var r="_."+n[0];e&n[1]&&!C(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(T);return e?e[1].split(A):[]}(i),n)),function(){return r})})}:function(t){return t};function ut(t,e,n){var r=rt(t,s,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=ut.placeholder,r}function ct(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function lt(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&V.call(t)==x}(t))return _;if(ct(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ct(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(b,"");var n=j.test(t);return n||M.test(t)?E(t.slice(2),n?2:8):k.test(t)?_:+t}(t))===p||t===-p?(t<0?-1:1)*y:t==t?t:0:0===t?t:0}function ft(t){var e=lt(t),n=e%1;return e==e?n?e-n:e:0}ut.placeholder={},e.exports=ut}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e,n){var r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;function u(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var c=Object.prototype,l=c.hasOwnProperty,f=c.toString,h=c.propertyIsEnumerable,p=Math.max;function d(t,e){var n=b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&w(t)}(t)&&l.call(t,"callee")&&(!h.call(t,"callee")||f.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var a in t)!e&&!l.call(t,a)||o&&("length"==a||m(a,r))||n.push(a);return n}function y(t,e,n,r){return void 0===t||x(t,c[n])&&!l.call(r,n)?e:t}function _(t,e,n){var r=t[e];l.call(t,e)&&x(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function v(t){if(!T(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e,n,r,i=(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||c,e===r),o=[];for(var a in t)("constructor"!=a||!i&&l.call(t,a))&&o.push(a);return o}function g(t,e){return e=p(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=p(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=o,u(t,this,a)}}function m(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||s.test(t))&&t>-1&&t%1==0&&t<e}function x(t,e){return t===e||t!=t&&e!=e}var b=Array.isArray;function w(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=T(t)?f.call(t):"";return e==o||e==a}(t)}function T(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var A,k=(A=function(t,e,n,r){!function(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;_(n,a,void 0===s?t[a]:s)}}(e,function(t){return w(t)?d(t,!0):v(t)}(e),t,r)},g(function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=A.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!T(n))return!1;var r=typeof e;return!!("number"==r?w(n)&&m(e,n.length):"string"==r&&e in n)&&x(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&A(t,a,n,i)}return t})),j=g(function(t){return t.push(void 0,y),u(k,void 0,t)});e.exports=j},{}],23:[function(t,e,n){e.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},{}],24:[function(t,e,n){function r(t){var e=Math.random,n=!0;function r(t){return Math.floor(e()*t)}function i(t){var e=t,n=e[e.length-1][0][1]-e[0][0][0]+1;function i(t){return function(t,e){e=+e;for(var n=0;n<t.length;++n){var r=t[n],i=r[0];if(e>=i[0]&&e<=i[1])return r[1]}}(e,t)}return{outcomeAtIndex:i,roll:function(){var t=i(r(n));return"function"!=typeof t||"probable_rollOnTable"!==t.name&&"probable_pick"!==t.name?t:t()},length:n,getRangesAndOutcomesArray:function(){return e}}}function o(t){var e=[],n=-1,r=function(t){var e=[];for(var n in t){var r=t[n];e.push([r,n])}return e}(t);return(r=r.sort(a)).forEach(function(t){var r=t[0],i=t[1],o=n+1,a=o+r-1;e.push([[o,a],i]),n=a}),e}function a(t,e){return t[0]>e[0]?-1:1}function s(t){return i(function(t){var e=[];for(var r in t){var i=c(r),o=t[r];if("object"==typeof o)if(Array.isArray(o))o=h(o);else if(n){var a=s(o);"function"==typeof a.roll&&(o=a.roll)}e.push([i,o])}return e.sort(u)}(t))}function u(t,e){return t[0][0]<e[0][0]?-1:1}function c(t){var e=t.split("-");if(!(e.length>2))return 1===e.length?[+t,+t]:[+e[0],+e[1]]}function l(t){return i(function(t){var e=0;return t.map(function(t){var n=t[0],r=t[1],i=e+n-1,o=[e,i];if(e=i+1,Array.isArray(r))if(s=r,Array.isArray(s)&&s.length>0&&Array.isArray(s[0])&&2===s[0].length&&"number"==typeof s[0][0]){var a=l(r);"function"==typeof a.roll&&(r=a.roll)}else r=h(r);var s;return[o,r]})}(t))}function f(t,e){return!t||"number"!=typeof t.length||t.length<1?e:t[r(t.length)]}function h(t,e){return function(){return f(t,e)}}function p(t,e){var n=[];return t.forEach(function(t){e.forEach(function(e){Array.isArray(t)||Array.isArray(e)?n.push(t.concat(e)):n.push([t,e])})}),n}function d(t){for(var e,n=t.length,i=Array(n),o=0;o<n;o++)(e=r(o+1))!==o&&(i[o]=i[e]),i[e]=t[o];return i}return t&&(t.random&&(e=t.random),void 0!==t.recurse&&(n=t.recurse)),{roll:r,rollDie:function(t){return 0===t?0:r(t)+1},createRangeTable:i,createRangeTableFromDict:function(t){return i(o(t))},createTableFromDef:s,createTableFromSizes:l,convertDictToRangesAndOutcomePairs:o,pickFromArray:f,pick:f,crossArrays:p,getCartesianProduct:function(t){return t.slice(1).reduce(p,t[0])},shuffle:d,sample:function(t,e){return d(t).slice(0,e)},randomFn:e}}var i=r();"object"==typeof e&&(e.exports=i,e.exports.createProbable=r)},{}],25:[function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=t("./utils"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=o.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},a)},{"./utils":29}],26:[function(t,e,n){"use strict";var r=t("./stringify"),i=t("./parse"),o=t("./formats");e.exports={formats:o,parse:i,stringify:r}},{"./formats":25,"./parse":27,"./stringify":28}],27:[function(t,e,n){"use strict";var r=t("./utils"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},u=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,u=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var c=0;n.depth>0&&null!==(a=o.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(s,10);n.parseArrays||""!==s?!isNaN(u)&&a!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=r:o[s]=r:o={0:r}}r=o}return r}(u,e,n)}};e.exports=function(t,e){var n=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n,u={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,l=e.parameterLimit===1/0?void 0:e.parameterLimit,f=c.split(e.delimiter,l),h=-1,p=e.charset;if(e.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?p="utf-8":"utf8=%26%2310003%3B"===f[n]&&(p="iso-8859-1"),h=n,n=f.length);for(n=0;n<f.length;++n)if(n!==h){var d,y,_=f[n],v=_.indexOf("]="),g=-1===v?_.indexOf("="):v+1;-1===g?(d=e.decoder(_,a.decoder,p,"key"),y=e.strictNullHandling?null:""):(d=e.decoder(_.slice(0,g),a.decoder,p,"key"),y=e.decoder(_.slice(g+1),a.decoder,p,"value")),y&&e.interpretNumericEntities&&"iso-8859-1"===p&&(y=s(y)),y&&"string"==typeof y&&e.comma&&y.indexOf(",")>-1&&(y=y.split(",")),_.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(u,d)?u[d]=r.combine(u[d],y):u[d]=y}return u}(t,n):t,l=n.plainObjects?Object.create(null):{},f=Object.keys(c),h=0;h<f.length;++h){var p=f[h],d=u(p,c[p],n);l=r.merge(l,d,n)}return r.compact(l)}},{"./utils":29}],28:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./formats"),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,u=Array.prototype.push,c=function(t,e){u.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,i,o,a,u,l,f,p,d,y,_,v){var g,m=e;if("function"==typeof l?m=l(n,m):m instanceof Date?m=d(m):"comma"===i&&s(m)&&(m=m.join(",")),null===m){if(o)return u&&!_?u(n,h.encoder,v,"key"):n;m=""}if("string"==typeof(g=m)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||r.isBuffer(m))return u?[y(_?n:u(n,h.encoder,v,"key"))+"="+y(u(m,h.encoder,v,"value"))]:[y(n)+"="+y(String(m))];var x,b=[];if(void 0===m)return b;if(s(l))x=l;else{var w=Object.keys(m);x=f?w.sort(f):w}for(var T=0;T<x.length;++T){var A=x[T];a&&null===m[A]||(s(m)?c(b,t(m[A],"function"==typeof i?i(n,A):n,i,o,a,u,l,f,p,d,y,_,v)):c(b,t(m[A],n+(p?"."+A:"["+A+"]"),i,o,a,u,l,f,p,d,y,_,v)))}return b};e.exports=function(t,e){var n,r=t,u=function(t){if(!t)return h;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],a=h.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===t.allowDots?h.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}}(e);"function"==typeof u.filter?r=(0,u.filter)("",r):s(u.filter)&&(n=u.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=a[l];n||(n=Object.keys(r)),u.sort&&n.sort(u.sort);for(var y=0;y<n.length;++y){var _=n[y];u.skipNulls&&null===r[_]||c(f,p(r[_],_,d,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var v=f.join(u.delimiter),g=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),v.length>0?g+v:""}},{"./formats":25,"./utils":29}],29:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};e.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:c}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var i="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=r.charAt(a):s<128?i+=o[s]:s<2048?i+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?i+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),i+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,o){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return i(e)&&!i(n)&&(s=a(e,o)),i(e)&&i(n)?(n.forEach(function(n,i){if(r.call(e,i)){var a=e[i];a&&"object"==typeof a&&n&&"object"==typeof n?e[i]=t(a,n,o):e.push(n)}else e[i]=n}),e):Object.keys(n).reduce(function(e,i){var a=n[i];return r.call(e,i)?e[i]=t(e[i],a,o):e[i]=a,e},s)}}},{}],30:[function(t,e,n){var r=t("qs"),i=t("lodash.clonedeep"),o=t("lodash.defaults");e.exports=function({followRoute:t,windowObject:e,propsToCoerceToBool:n}){var a={};return n||(n=[]),e.onhashchange=s,{addToRoute:function(e,n=!0){var r=o(i(e),u());c(r),n&&t(r,a)},removeFromRoute:function(e,n=!0){var r=u();delete r[e],c(r),n&&t(r,a)},updateEphemeralState:function(e,n=!0){for(var r in e)a[r]=e[r];n&&t(u(),a)},overwriteRouteEntirely:function(e){c(e),t(e,a)},routeFromHash:s,unpackEncodedRoute:function(e){var n=r.parse(decodeURIComponent(e));c(n),t(n,a)},getRouteFromHash:u};function s(){t(u(),a)}function u(){for(var t=r.parse(e.location.hash.slice(1)),i=0;i<n.length;++i){const e=n[i];let r=t[e];r="yes"===r||"no"!=r&&!!r,t[e]=r}return t}function c(t){for(var o=i(t),a=0;a<n.length;++a){const t=n[a];let e=o[t];e=e?"yes":"no",o[t]=e}var s=e.location.protocol+"//"+e.location.host+e.location.pathname+"#"+r.stringify(o);e.history.pushState(null,null,s)}}},{"lodash.clonedeep":20,"lodash.defaults":22,qs:26}],31:[function(t,e,n){var r=t("./lib/alea"),i=t("./lib/xor128"),o=t("./lib/xorwow"),a=t("./lib/xorshift7"),s=t("./lib/xor4096"),u=t("./lib/tychei"),c=t("./seedrandom");c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,e.exports=c},{"./lib/alea":32,"./lib/tychei":33,"./lib/xor128":34,"./lib/xor4096":35,"./lib/xorshift7":36,"./lib/xorwow":37,"./seedrandom":38}],32:[function(t,e,n){!function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new r(t),o=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.alea=o}(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],33:[function(t,e,n){!function(t,e,n){function r(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:n&&n.amd?n(function(){return i}):this.tychei=i}(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],34:[function(t,e,n){!function(t,e,n){function r(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:n&&n.amd?n(function(){return i}):this.xor128=i}(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],35:[function(t,e,n){!function(t,e,n){function r(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&(i.X&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:n&&n.amd?n(function(){return i}):this.xor4096=i}(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],36:[function(t,e,n){!function(t,e,n){function r(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&(i.x&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:n&&n.amd?n(function(){return i}):this.xorshift7=i}(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],37:[function(t,e,n){!function(t,e,n){function r(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:n&&n.amd?n(function(){return i}):this.xorwow=i}(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],38:[function(t,e,n){!function(n,r,i){var o,a=256,s=6,u="random",c=i.pow(a,s),l=i.pow(2,52),f=2*l,h=a-1;function p(t,e,p){var v=[],g=y(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,_(r)]:null==t?function(){try{var t;return o&&(t=o.randomBytes)?t=t(a):(t=new Uint8Array(a),(n.crypto||n.msCrypto).getRandomValues(t)),_(t)}catch(t){var e=n.navigator,i=e&&e.plugins;return[+new Date,n,i,n.screen,_(r)]}}():t,3),v),m=new function(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];n||(t=[n++]);for(;i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=h&o+t[i%n]+(e=s[i])],s[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,s=r.S;t--;)e=s[i=h&i+1],n=n*a+s[h&(s[i]=s[o=h&o+e])+(s[o]=e)];return r.i=i,r.j=o,n})(a)}(v),x=function(){for(var t=m.g(s),e=c,n=0;t<l;)t=(t+n)*a,e*=a,n=m.g(1);for(;t>=f;)t/=2,e/=2,n>>>=1;return(t+n)/e};return x.int32=function(){return 0|m.g(4)},x.quick=function(){return m.g(4)/4294967296},x.double=x,y(_(m.S),r),(e.pass||p||function(t,e,n,r){return r&&(r.S&&d(r,m),t.state=function(){return d(m,{})}),n?(i[u]=t,e):t})(x,g,"global"in e?e.global:this==i,e.state)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return _(e)}function _(t){return String.fromCharCode.apply(0,t)}if(y(i.random(),r),"object"==typeof e&&e.exports){e.exports=p;try{o=t("crypto")}catch(t){}}else"function"==typeof define&&define.amd?define(function(){return p}):i["seed"+u]=p}("undefined"!=typeof self?self:this,[],Math)},{crypto:10}],39:[function(t,e,n){var r=t("probable").createProbable,i=t("lodash.curry"),o=t("get-at-path"),a=t("dicecup"),s=/{([\S/]+?)}/g;const u=Symbol("resolveTarget"),c=Symbol("resolveFnLaterTarget"),l=Symbol("readFromFirstPass"),f=Symbol("lookUpInMap"),h=Symbol("literal"),p=Symbol("dieRoll");function d(t){return"raw"in t?t[0]:t}function y(t){if(t.length>0)return t[t.length-1]}function _(t,e){return t.concat([e])}function v(t,e,n){return t[o(e,n)]}function g(t,e){return t+isNaN(e.total)?0:e.total}e.exports={Tablenest:function(t){var e;e=t?r({random:t.random,recurse:!1}):r();var n=a({probable:e});return function(t){var n={};for(var r in t){let i=t[r];(!Array.isArray(i)||i.length<1||!Array.isArray(i[0]))&&(i=[[1,i]]),n[r]=e.createTableFromSizes(i)}return function(){for(var t=[],e=[],{expatiated:r}=d(n.root.roll(),null,[],i(x)(n),e,t),o=0;o<10;++o){let n=[];if(e.forEach(i(b)(r,n,t)),t.forEach(i(w)(r)),n.length<1)break;e=n.slice()}return r}};function d(t,e,r,i,o,a){if(!t[u]){if(t[c]&&a.push({fn:t.fn,parent:e,key:y(r)}),t[l]){if(!o)throw new Error("Missing readFromFirstPassQueue!");o.push({keyPathOnSource:r,thing:{[u]:!0,target:t.target}})}else if(t[f]){if(!o)throw new Error("Missing readFromFirstPassQueue!");o.push({keyPathOnSource:t.target.split("/"),targetParent:e,targetKey:y(r),thing:{[u]:!0,target:t.target,map:t.map}})}else t[h]?t=t.target:t[p]&&(t=n.roll(t.target).reduce(g,0));return{expatiated:t,isResolved:!0}}{let n=typeof t.target;if("string"===n)return function(t,e,n,r,i,o){var a=function(t){for(var e,n=[];null!==(e=s.exec(t));)n.push(e[1]);return n}(t);if(a.length<1)return d(r(_(n,t)),e,n,r,i,o);for(var u=t,c=0;c<a.length;++c){let{expatiated:t,isResolved:e}=m(a[c],r,u);if(!e)return{isResolved:e};u=t}return d(u,e,n,r,i,o)}(t.target,e,r,i,o,a);if("object"===n)return function(t,e,n,r,i){var o={};for(var a in t){let{isResolved:s,expatiated:u}=d(t[a],o,_(e,a),n,r,i);if(!s)return{isResolved:s};o[a]=u}return{expatiated:o,isResolved:!0}}(t.target,r,i,o,a)}}function m(t,e,n){var r,i,o,a=(o=(i=t).split("/")).length>0?o.length>1?o:[i]:[],s=n.slice(),d=e(a),y=!((r=d)[u]||r[c]||r[l]||r[f]||r[h]||r[p]);return y&&(s=s.replace(`{${t}}`,d)),{expatiated:s,isResolved:y}}function x(t,e){return t[y(e)].roll()}function b(t,e,n,{thing:r,keyPathOnSource:a,targetParent:s,targetKey:u}){var c,l=t;a.slice(0,-1).forEach(function(t){l&&(l=l[t])}),c=r.map?d(r,l,a,i(v)(r.map,t),null,n):d(r,l,a,i(o)(t),null,n);var{isResolved:f,expatiated:h}=c;f?s&&u?s[u]=h:l[y(a)]=h:e.push({keyPathOnSource:a,thing:r})}function w(t,{fn:n,parent:r,key:i}){r[i]=n(t,e)}},r:function(t){return{[u]:!0,target:d(t)}},f:function(t){return{[c]:!0,fn:t}},s:function(t){return{[l]:!0,target:d(t)}},m:function({target:t,map:e}){return{[f]:!0,target:t,map:e}},l:function(t){return{[h]:!0,target:t}},d:function(t){return{[p]:!0,target:d(t)}}}},{dicecup:15,"get-at-path":18,"lodash.curry":21,probable:24}],40:[function(t,e,n){e.exports={name:"moif",version:"1.0.3",description:"Slopcube",main:"index.js",private:!0,scripts:{test:"make test"},repository:{type:"git",url:"git@github.com:jimkang/moif.git"},keywords:["cubes"],author:"Jim Kang",license:"BSD",bugs:{url:"https://github.com/jimkang/moif/issues"},homepage:"https://github.com/jimkang/moif",devDependencies:{"@typescript-eslint/eslint-plugin":"^2.7.0","@typescript-eslint/parser":"^2.7.0","babel-preset-es2015":"^6.24.1",babelify:"^7.3.0",browserify:"^14.5.0",eslint:"^6.7.2","uglify-es":"^3.3.9"},dependencies:{"@jimkang/randomid":"^1.0.0","@types/node":"^12.12.7",accessor:"^3.0.0","await-to-js":"^2.1.1","basic-2d-math":"^1.0.1","d3-array":"^2.4.0","d3-color":"^1.4.0","d3-drag":"^1.2.5","d3-ease":"^1.0.5","d3-hierarchy":"^1.1.8","d3-interpolate":"^1.3.2","d3-scale-chromatic":"^1.5.0","d3-selection":"^1.3.2","d3-shape":"^1.3.7","d3-transition":"^1.2.0","easy-browser-request":"^1.0.1","handle-error-web":"^1.0.1","lodash.clonedeep":"^4.5.0","lodash.curry":"^4.1.1","lodash.findwhere":"^3.1.0","lodash.flatten":"^4.4.0","lodash.omit":"^4.5.0","lodash.pick":"^4.4.0","lodash.uniq":"^4.5.0","object-path-exists":"^1.0.0","one-listener-per-element":"^1.0.1",probable:"^2.1.4","render-as-nested-list":"^1.0.1","route-state":"^2.0.5",seedrandom:"^3.0.1","standard-bail":"^2.0.1",strokerouter:"^3.0.0",tablenest:"^4.0.0",tsify:"^4.0.1",typescript:"^3.7.2"}}},{}],41:[function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("easy-browser-request"),a="xoxp-20738496321-20739644710-863370240609-d62135f87de2facbf7d2b54836e70412";n.sendEncounter=function(t){var e=t.encounterId,n=t.beatIds,s=t.state,u=t.actionLog;return r(this,void 0,void 0,function(){var t,r,c,l;return i(this,function(i){switch(i.label){case 0:return t=JSON.stringify({encounterId:e,state:s,beatIds:n,actionLog:u},null,2),[4,o({method:"GET",url:"https://slack.com/api/chat.postMessage?token="+a+"&channel=adventure-results&text="+t+".&pretty=1",json:!0})];case 1:return r=i.sent(),c=r.error,l=r.body,c?[2,Promise.reject(c)]:l.error?[2,Promise.reject(new Error(l.error))]:[2,Promise.resolve()]}})})}},{"easy-browser-request":17}],42:[function(t,e,n){var r=t("probable"),i=t("d3-shape"),o=t("d3-array").range,a=i.area();a.curve(i.curveLinear);var s=4;function u(t){return t}e.exports=function(t){var e=t.direction,n=t.length,i=t.maxThickness;0===e[1]?(a.x0(e[0]<0?i:0),a.y(u)):(a.y0(e[1]<0?i:0),a.x(u));var c=10+r.rollDie(4),l=2+r.roll(2);return 0===e[1]?a.x1(f):a.y1(f),a(o(0+s,n-s,s));function f(t){var o=0;if(0===t||t>=n-s)(e[0]<0||e[1]<0)&&(o=i);else{var a=Math.sin(t/c)*i/l;o=e[0]<0||e[1]<0?i/2+a:i/2-a,o+=Math.sin(t/4)*i/6,0===r.roll(2)?o+=r.rollDie(i/5):o-=r.rollDie(i/5)}return o}}},{"d3-array":11,"d3-shape":14,probable:24}],43:[function(t,e,n){var r=t("d3-selection"),i=t("./draw-tear"),o=5;function a(t){return t.select(".paper").node().clientHeight}function s(t){return t.select(".paper").node().clientWidth}e.exports=function(t){var e=r.select(t);return e.append("svg").classed("paper-board",!0).attr("width","100%").attr("height","100%").append("foreignObject").attr("width","100%").attr("height","100%").attr("x",o).attr("y",o).append("xhtml:div").classed("paper-container",!0).append("xhtml:div").classed("paper",!0),function(){setTimeout(function(){!function(t){t.selectAll("foreignObject").attr("width",function(){return s(r.select(this))}).attr("height",function(){return a(r.select(this))}),t.attr("width",function(){return s(r.select(this))+2*o}).attr("height",function(){return a(r.select(this))+2*o});var e=t.selectAll(".tear-path").data([[0,-1],[0,1],[-1,0],[1,0]]);e.enter().append("path").classed("tear-path",!0).merge(e).attr("d",function(t){var e={direction:t,maxThickness:o},n="height";return 0===t[0]&&(n="width"),e.length=r.select(this.parentNode).attr(n),i(e)}).attr("transform",function(t){var e=0,n=0;return t[0]>0&&(e=r.select(this.parentNode).attr("width")-o-1),t[1]>0&&(n=r.select(this.parentNode).attr("height")-o-1),"translate("+e+", "+n+")"})}(e.selectAll(".paper-board"))},300)}}},{"./draw-tear":42,"d3-selection":13}]},{},[1]);